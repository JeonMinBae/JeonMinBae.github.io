{"componentChunkName":"component---src-templates-post-template-tsx","path":"/post/20220914/cors/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<h1 id=\"cors교차-출처-리소스-공유\" style=\"position:relative;\">CORS(교차 출처 리소스 공유)<a href=\"#cors%EA%B5%90%EC%B0%A8-%EC%B6%9C%EC%B2%98-%EB%A6%AC%EC%86%8C%EC%8A%A4-%EA%B3%B5%EC%9C%A0\" aria-label=\"cors교차 출처 리소스 공유 permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h1>\n<hr>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1b396782bc87186105aafba6f40bb14d/6c799/cors.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 21.354166666666668%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsTAAALEwEAmpwYAAABH0lEQVQY0z3Iv0sCcQBAcf+ZSsQksaASiajJKQfBJtdCiBCCRETBnLRoKKNGG4KgocEDoSZpOk8L9IzjiDDwzED6SvkD7V5U0Gd7z2KuB/iy22F5FiVW59QH56twcVllmikmxpP4R35+jEtjTJeJaTMZbYx+X1Ev4sg6sB3bCOVDWNA0KClQe2DQGtCqw1sV3rtDKpSRkVFR+XcPlIDGXwoEyqtC2Sijd3QsnZMsIhpBJJLcpXVujvoUD4Zc5R6JfUSJfEaQJIn+Zh+xI+jGu7TjbURU0NvqYewaZK4zhPNhpJqE5SkYpOZyonuWyPluOQy8cLZmkNguMK/PMfPsJLWfQnNpVDwVGosNlAUF1a3SdDeRV2S8e16sSSvpQppvLwz31Zo5OnYAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/1b396782bc87186105aafba6f40bb14d/a59e9/cors.webp 192w,\n/static/1b396782bc87186105aafba6f40bb14d/0ca9f/cors.webp 384w,\n/static/1b396782bc87186105aafba6f40bb14d/dc9b9/cors.webp 768w,\n/static/1b396782bc87186105aafba6f40bb14d/e2c2f/cors.webp 1152w,\n/static/1b396782bc87186105aafba6f40bb14d/f3efb/cors.webp 1536w,\n/static/1b396782bc87186105aafba6f40bb14d/e793d/cors.webp 2353w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/1b396782bc87186105aafba6f40bb14d/3b721/cors.png 192w,\n/static/1b396782bc87186105aafba6f40bb14d/66595/cors.png 384w,\n/static/1b396782bc87186105aafba6f40bb14d/fe486/cors.png 768w,\n/static/1b396782bc87186105aafba6f40bb14d/d2d74/cors.png 1152w,\n/static/1b396782bc87186105aafba6f40bb14d/e8464/cors.png 1536w,\n/static/1b396782bc87186105aafba6f40bb14d/6c799/cors.png 2353w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/1b396782bc87186105aafba6f40bb14d/fe486/cors.png\"\n            alt=\"img\"\n            title=\"img\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p><strong>Origin</strong>: <code class=\"language-text\">protocol</code> + <code class=\"language-text\">host</code> [ +<code class=\"language-text\">port</code>] 를 의미</p>\n<h1 id=\"sopsame-origin-policy\" style=\"position:relative;\">SOP(Same Origin Policy)<a href=\"#sopsame-origin-policy\" aria-label=\"sopsame origin policy permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h1>\n<ul>\n<li><a href=\"https://tools.ietf.org/html/rfc6454#page-5\" target=\"_blank\" rel=\"nofollow\">RFC 6454</a>에서 처음 등장한 보안 정책</li>\n<li>같은 출처에서만 리소스를 공유 가능</li>\n<li>웹 환경에서 지키기가 어려움</li>\n</ul>\n<h1 id=\"corscross-origin-resource-sharing\" style=\"position:relative;\">CORS(Cross-Origin Resource Sharing)<a href=\"#corscross-origin-resource-sharing\" aria-label=\"corscross origin resource sharing permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h1>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/cfb0331eb1b0b29c92f4f4e8d233ff3a/24c26/cors1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 45.3125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABsUlEQVQoz42S0WvaUBjF83/7UnAFGcLEPIxq5yw+WFChUihugw02xh720r2UIdjORJJqYxLNkpt4b+5vJLWwyQY7cLjfgcv57rnfZ/C/0DlaK7TOS5llCWkaIaUkiiIsyyKOYwwpBD+TDSIVpCIlFYI0TRFCoJQkzRRxlqOffPen5y3pvn6JaTYZDAZUq1UWiwWGCHyC+J5MSZRUZccsy0iSmExK7n98Y379Fr2+AfsDOrwrDTebNefnHVqtFv1+n0ajwWq1wpBKkWUSz/Pw12tC30fn+1hBCF/HsHwPswu4OQX7HWQPBKHPyYlJrVaj1+tRr9dxXRdD7nZlxEI8FHQccinLaNJxYHKJDq9JvjxHTC+Jv1+QWp8JAo+rqyGj0YjJ5A2maeI4DkZhttvt0FqT71lomecsrTnTj5/K1y5sC8d1mVsL7IVDGPqY5guOjo5ot9s0m83HyKVRnqOU+oMFwu0Wy3XKCR/C91eMRmecdbsMh0MqlUo5aeOfW3JQF//61LxAkgharVOeHR/zqtNhPB4/rk1x6W8sjX6rD/V2u+H2doZr29izGXfTKXEU8Qss8Jixabw03AAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/cfb0331eb1b0b29c92f4f4e8d233ff3a/a59e9/cors1.webp 192w,\n/static/cfb0331eb1b0b29c92f4f4e8d233ff3a/0ca9f/cors1.webp 384w,\n/static/cfb0331eb1b0b29c92f4f4e8d233ff3a/dc9b9/cors1.webp 768w,\n/static/cfb0331eb1b0b29c92f4f4e8d233ff3a/9d7ec/cors1.webp 921w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/cfb0331eb1b0b29c92f4f4e8d233ff3a/3b721/cors1.png 192w,\n/static/cfb0331eb1b0b29c92f4f4e8d233ff3a/66595/cors1.png 384w,\n/static/cfb0331eb1b0b29c92f4f4e8d233ff3a/fe486/cors1.png 768w,\n/static/cfb0331eb1b0b29c92f4f4e8d233ff3a/24c26/cors1.png 921w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/cfb0331eb1b0b29c92f4f4e8d233ff3a/fe486/cors1.png\"\n            alt=\"img1\"\n            title=\"img1\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<ul>\n<li>응답 헤더에 유효한 <code class=\"language-text\">Access-Control-Allow-Origin</code> 값의 존재 여부 판단</li>\n<li>브라우저에 구현되어있는 정책 - 서버가 정상응답하더라도 CORS가 발생할 수 있음</li>\n</ul>\n<h2 id=\"preflight-request\" style=\"position:relative;\">Preflight Request<a href=\"#preflight-request\" aria-label=\"preflight request permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1ab8ac5eefaabbe256bdccb1fea721c5/bbbf7/cors2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 64.58333333333334%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAADcUlEQVQ4y2WTb0xbVRjGn3O5tLelvdDSdpQMRjfMVmBgNoqbHwz4L9ui8U8QNGoiJMYvm3GJX2R8MMuyJWjITBaRSYzESR06u5S2pEhzy71tb9cVbV3LKOjotg9kjkl0aLIMPeZcwWTxJG/OuTn3/J73fZ9zAOAhAE0AbACQSCS02BhlBGgkgJN9yH4/Nz02RpTz50kqGCSXgkHy9fAwx/Y4wEYAN/bCjhLCCR0d7dqGoiitaiLRBoB4ampKGJSpUUrx2/XrCIyOIuL1IhEIQA2F8EexCLqy8q88x/EgbCLEvK22Vs8gwUDgUDgcfoat4XDo9vG8cwUQaDa7/c9Uqkk+fbpRHRzc/f3ISOOP58413FOUZprL7ZA5zngUEDUgAH25KGoiExcvIiBJoC5XKQW44aoqO8uueO2ad6FQuCHPzORSyUtXZ9PpqzFFyc/lcku3lpcn3Hv2lPcAWzUgAQQGswD4aG2NLHZ1ld4H6imw/aQoVjNgNJncv7K6enz197vvzWYyfZkrV/p+uXOnb/n27fczc3OPs4rerbBU/gckGy785XLhb9az2ofxKoB3rBXMkJKfYvJTi/nczeJCIZeMSoXkzMz8Yj6fXyrMF+8u/dzNRM86HVseAGrQCQoEKPYeSTMn8ERdmzn89oTh284PywYaelglJIsGQkG1BLqNTxvlN84aP3v+uPGFpoPi/4BlJ9ZhOrEOwwcUxmPLsHUO2LiuQZOp9+MyoJmfjCZeVn/I9cfTmWPK5cxreOWMEb2jBjQfMps7Dldvuiy4d7kxNDTEjU/GeHqvnzhPrVUaTtIa+8F+OwB+C8Cz0qdDfldajbX4L4y3+Ma9O8wALwLseukcj71p23S5lKUfCoUgRyVMRhTWRTi9VLS2H3GWmmyiUOXW1zV4jKxX4anpXlmJvcVuHm/dJljrHzEAMGx9acChActFsZIBfT5fiyRJPZIk9U4FfLvZ4WrPc5VtX1HBM0oNbV9Qof1Lqh/47pbtjPyr7dlxKrR+ToVHL1BhV1/SaO84bNaAVoulnB2Ox+M7s9nsiyzianInExH1xNRDKfZ/Q3FApUCIwpe6CWl+FQdmKZ5cpKh7/ZON1wf9AyVHo1GoqqpFJBLZfM86i6cbnZRi38h96E5RjEUX4L98A62frqP+6JT2E2+o4Dhep/sHqrNi7AB39cYAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/1ab8ac5eefaabbe256bdccb1fea721c5/a59e9/cors2.webp 192w,\n/static/1ab8ac5eefaabbe256bdccb1fea721c5/0ca9f/cors2.webp 384w,\n/static/1ab8ac5eefaabbe256bdccb1fea721c5/dc9b9/cors2.webp 768w,\n/static/1ab8ac5eefaabbe256bdccb1fea721c5/e2c2f/cors2.webp 1152w,\n/static/1ab8ac5eefaabbe256bdccb1fea721c5/94b1e/cors2.webp 1280w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/1ab8ac5eefaabbe256bdccb1fea721c5/3b721/cors2.png 192w,\n/static/1ab8ac5eefaabbe256bdccb1fea721c5/66595/cors2.png 384w,\n/static/1ab8ac5eefaabbe256bdccb1fea721c5/fe486/cors2.png 768w,\n/static/1ab8ac5eefaabbe256bdccb1fea721c5/d2d74/cors2.png 1152w,\n/static/1ab8ac5eefaabbe256bdccb1fea721c5/bbbf7/cors2.png 1280w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/1ab8ac5eefaabbe256bdccb1fea721c5/fe486/cors2.png\"\n            alt=\"img2\"\n            title=\"img2\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<ul>\n<li><strong>preflight</strong>: 본 요청을 보내기 전에 먼저 보내는 예비 요청, METHOED: <code class=\"language-text\">OPTIONS</code></li>\n<li>예비 요청의 역할은 본 요청을 보내기 전에 브라우저 스스로 이 요청을 보내는 것이 안전한지 확인하는 것</li>\n<li>예비 요청에서 브라우저는 <code class=\"language-text\">Access-Control-Request-Headers</code>를 사용하여 본 요청에 사용할 헤더를 알려주거나, <code class=\"language-text\">Access-Control-Request-Method</code>를 사용하여 이후 사용할  메소드를 서버에게 미리 알려줌</li>\n</ul>\n<h2 id=\"simple-request\" style=\"position:relative;\">Simple Request<a href=\"#simple-request\" aria-label=\"simple request permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/c620fd4701865de13045e084a92fad8b/bbbf7/cors3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 47.91666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAACrUlEQVQoz11Sa0iTYRR+3n37vn3f2NqmzRm4NCTsahBCdkWMLihRFJkVKYH+KIqumLRCaRIpllpECFa2LClTStcnJO3icm5kaFGZrTILuxiYRtG/Trwrozpw4LznvO9znvO8BwBLA5AAAKqqIhwO8xCMMRlAKoA5ANMCDL/8b2P8XtQBNgNACg/0drtdw8v19fWTVFW1TrzUCKIs6AwcGKaMPchrHEFl+yDqusdwteczDrjHYD90PwotmaYITCPIHN2YmjpPISK43e6NXq+3hNcB6DRALAB58qJ85BChoINQ6h6GOkLoI8LJCGFWK2GWI4TfJHhzphNFMdolOysLx5xOLAagBWDN3C0mFV4xru4jsdBD8uEu0h9pHzVdGKBJHeNkrHlG+vw7pCzvIN30ok5FsiQoHFCeUGRZ+nzscpQzfCUY9j/B1K1njeZ5ayyJS3L1fIJ9jrJkXyB4PNzT6/AHgs6acxfm8nzC0jzFPHtFXNyqg9ao+IKgRUZGBmpCP4CVBFPZd71SQTOte0OJfPwzZUUiEaURUeaXsdHscHdX1vvht9n8TEQLLpdsi0pkX1sS8w/DP7bltqBcIjkp/7wNMMSedt2yDkRePBwcevPtaf/AR4/P/+nxk6cjkRevxofffXitdj5IAAz6lJyyGM5Q0miE/xAtMGy6iPj0XDFp5y3juj6SCstvTN5Zcc1W2tAdX+sZinc2dNk2F5+zOS4G4goekZzsHFQs89cbYDabbZxma2vbwlAoVBUMBqt9Pv92vjVGvc4IQJyeewJHa9tQXHUFlY0+uO7249RVD3aUnkXV9QA21A1N/LIOWq02Knh1dY2uubnF0tTUZHG5XAae00qKJCgmrg9O1N1kLfees6auV6zRH2EtwZes4U4va/T2R3dWip2m0QiS/BNBHP5GIxAcvgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/c620fd4701865de13045e084a92fad8b/a59e9/cors3.webp 192w,\n/static/c620fd4701865de13045e084a92fad8b/0ca9f/cors3.webp 384w,\n/static/c620fd4701865de13045e084a92fad8b/dc9b9/cors3.webp 768w,\n/static/c620fd4701865de13045e084a92fad8b/e2c2f/cors3.webp 1152w,\n/static/c620fd4701865de13045e084a92fad8b/94b1e/cors3.webp 1280w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/c620fd4701865de13045e084a92fad8b/3b721/cors3.png 192w,\n/static/c620fd4701865de13045e084a92fad8b/66595/cors3.png 384w,\n/static/c620fd4701865de13045e084a92fad8b/fe486/cors3.png 768w,\n/static/c620fd4701865de13045e084a92fad8b/d2d74/cors3.png 1152w,\n/static/c620fd4701865de13045e084a92fad8b/bbbf7/cors3.png 1280w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/c620fd4701865de13045e084a92fad8b/fe486/cors3.png\"\n            alt=\"img3\"\n            title=\"img3\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<ul>\n<li>preflight와 전반적인 로직은 같으나 예비 요청의 존재 유무만 다름</li>\n<li>특정 조건을 모두 만족하는 경우에만 예비 요청을 생략 가능\n<ul>\n<li>요청의 메소드는 <code class=\"language-text\">GET</code>, <code class=\"language-text\">HEAD</code>, <code class=\"language-text\">POST</code> 중 하나</li>\n<li><code class=\"language-text\">Accept</code>, <code class=\"language-text\">Accept-Language</code>, <code class=\"language-text\">Content-Language</code>, <code class=\"language-text\">Content-Type</code>, <code class=\"language-text\">DPR</code>, <code class=\"language-text\">Downlink</code>, <code class=\"language-text\">Save-Data</code>, <code class=\"language-text\">Viewport-Width</code>, <code class=\"language-text\">Width</code>를 제외한 헤더 사용 불가</li>\n<li>만약 <code class=\"language-text\">Content-Type</code>를 사용하는 경우 <code class=\"language-text\">application/x-www-form-urlencoded</code>, <code class=\"language-text\">multipart/form-data</code>, <code class=\"language-text\">text/plain</code>만 허용</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"credentialed-request\" style=\"position:relative;\">Credentialed Request<a href=\"#credentialed-request\" aria-label=\"credentialed request permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<ul>\n<li>인증된 요청을 사용하는 방법</li>\n<li>다른 출처 간 통신에서 보안을 더 강화하고 싶을 때 사용하는 방법</li>\n<li><strong>credentials</strong>: 요청에 인증과 관련된 정보를 담을 수 있게 해주는 옵션\n<ul>\n<li><strong>same-origin(기본값)</strong>: 같은 출처 간 요청에만 인증 정보를 담을 수 있음</li>\n<li><strong>include</strong>: 모든 요청에 인증 정보를 담을 수 있음</li>\n<li><strong>omit</strong>: 모든 요청에 인증 정보를 담지 않음</li>\n</ul>\n</li>\n<li><code class=\"language-text\">same-origin</code> 또는 <code class=\"language-text\">include</code> 적용 시  <code class=\"language-text\">Access-Control-Allow-Origin</code> 에는 <code class=\"language-text\">*</code> 을 사용할 수 없으며, 명시적인 URL이어야 함</li>\n<li>응답 헤더에는 반드시 <code class=\"language-text\">Access-Control-Allow-Credentials: true</code> 가 존재해야 함</li>\n</ul>\n<h1 id=\"해결방안\" style=\"position:relative;\">해결방안<a href=\"#%ED%95%B4%EA%B2%B0%EB%B0%A9%EC%95%88\" aria-label=\"해결방안 permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h1>\n<ol>\n<li>\n<p><code class=\"language-text\">Access-Control-Allow-Origin</code>세팅</p>\n<ul>\n<li>서버에서 <code class=\"language-text\">Access-Control-Allow-Origin</code> 헤더에 알맞은 값을 세팅</li>\n<li>와일드 카드인 <code class=\"language-text\">*</code> 대신 가급적 출처를 명시</li>\n</ul>\n</li>\n<li>\n<p>Webpack Dev Server로 리버스 프록싱</p>\n<ul>\n<li>개발환경에서만 적용가능</li>\n<li>\n<blockquote>\n<p>Keep in mind that <code class=\"language-text\">proxy</code> only has effect in development (with <code class=\"language-text\">npm start</code>)</p>\n</blockquote>\n</li>\n</ul>\n</li>\n</ol>\n<p><a href=\"https://create-react-app.dev/docs/proxying-api-requests-in-development/\" target=\"_blank\" rel=\"nofollow\">https://create-react-app.dev/docs/proxying-api-requests-in-development/</a></p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">module<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token literal-property property\">devServer</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token literal-property property\">proxy</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n\t\t\t<span class=\"token string-property property\">'/api'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n\t\t\t\t<span class=\"token literal-property property\">target</span><span class=\"token operator\">:</span> <span class=\"token string\">'https://localhost:3000'</span><span class=\"token punctuation\">,</span>\n\t\t\t\t<span class=\"token literal-property property\">changeOrigin</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n\t\t\t\t<span class=\"token literal-property property\">pathRewrite</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><span class=\"token string-property property\">'^/api'</span><span class=\"token operator\">:</span> <span class=\"token string\">''</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\t\t\t<span class=\"token punctuation\">}</span>\n\t\t<span class=\"token punctuation\">}</span>\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<blockquote>\n<p>참조 <a href=\"https://evan-moon.github.io/2020/05/21/about-cors/\" target=\"_blank\" rel=\"nofollow\">https://evan-moon.github.io/2020/05/21/about-cors/</a></p>\n</blockquote>","tableOfContents":"<ul>\n<li>\n<p><a href=\"#cors%EA%B5%90%EC%B0%A8-%EC%B6%9C%EC%B2%98-%EB%A6%AC%EC%86%8C%EC%8A%A4-%EA%B3%B5%EC%9C%A0\">CORS(교차 출처 리소스 공유)</a></p>\n</li>\n<li>\n<p><a href=\"#sopsame-origin-policy\">SOP(Same Origin Policy)</a></p>\n</li>\n<li>\n<p><a href=\"#corscross-origin-resource-sharing\">CORS(Cross-Origin Resource Sharing)</a></p>\n<ul>\n<li><a href=\"#preflight-request\">Preflight Request</a></li>\n<li><a href=\"#simple-request\">Simple Request</a></li>\n<li><a href=\"#credentialed-request\">Credentialed Request</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%ED%95%B4%EA%B2%B0%EB%B0%A9%EC%95%88\">해결방안</a></p>\n</li>\n</ul>","frontmatter":{"title":"Cors","summary":"cors의 동작에 대해 알아보기","date":"2022.09.14.","categories":["Http"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAAsTAAALEwEAmpwYAAAErElEQVQ4y2XT60/aZxTA8V/SpVmW7P2S/QX7A5alWfZub/Zu2YtlaZZl69I2nbba1l681Kmtl0qr/FTqBZw3vFQQFEGFahW0iKiIIqit9yqoKIqCF1C/SzHLuu4kJ895cpJPznmSR6iVX8JiSqKvK5HezgR69An0dSbSY7hJt/7fNOlv0mu8hbrpBpL8NGrkifR2JJz1dIkM9t7jyi9fIsy5siBSxvpiMU67HEuvilmXDEIyCJdC+N35DI6eceqVoK+XMmC20dqqwTdfAEelsC8jsl1K0rXvENwj6UR2RFRqKcomDW3tRlraGtjw5nIalhINirAt0u2R8MWElguDHcga6qhTPMI7l0M0KCW8KaVbU8mduCSE6bEM9gNSRhsKGWs14nKM01crZ6Y9ny51HnabhJO1J9x9UcKnqzYEFkg3lPB2tIIFdx0r0wW4hvJwD+iRF+YgjDvu41EXcVI9BM8HcMhqsFVX4WlQ0VQhoaoyCZNRzkK/iQJrJx/ZWnhlVRHyL7I43c+ys4mmqhx0WjmFuckIOlUSMwYlm9pOtmpMBJ/30NmkZHzSiv+NFoe5gCHLX9xVlvHNcBfC9AvKa3OYsWmxvlQxMWSirVlBfk0DSWIlglaZi7G1CN9oM1vVLcwqmrE1KLH1qRjqa2PYrMFtryUz9x4XZXlcrha5l5OKKM3DPaJmdkKDqv4pM44mUu7/gaBUZJB8N5dGqZo6iZHHBcX0dTczbNEwbFHRZ6zGMVCDpbOcxtJMOhryqZZncykhHoU8jaFuEWN7KcfbvWSlXUN4mPIbd+5cJT4xnuvJqSSnXOf+jR94lHoRhXidx5lXyc+8SonkBrkZV8jPusrD1N9JTvqVlNs/knrrp9hdzIsj9fbPCM7BNKIBkWhAyor7AXp1Gl2GSoz6MgZepBJaf0rQW8j26lNC61J2vIXs+gpjdWhdJLQhxnrHQRk6VRyCZzQdouV457LR6yrZ3ArzT9iH7dj7H8ChjPBmITu+fE73RI73ZER3ZUSCxUR2ijgIiHBagUEThzA5/A6U0dmWSTB4xIeh05Zx4M9mZV7F0uIkC1PF7KxmE/TmcLBVwGGgiLBfGhvK0BKH4Br5k+OwlJERLQ2NapaXl9jY2GDQao2B1v5WphwZeDzjRCIQCu3iXxvBt2JjcrTo7Ke8D85NZMHOY4aMCmbnV9gL7TI3O4dO1xYDO9rLWJozM+Z009ioxGw24/Vt4fdvsfxa5Dgo/hdsbbvJZUc5X3VUEQnucXRwQDAUimHr6z40z9PxuJ0cHEYIhcJMTDjpMvZgf1XM6V7h2cqb74Gf9NYj4ENgkW8HDayveiF6gs06QLPyAZPjHXh9O5iMGiZdwywsrrDmmyKwIiEaLOYwILL/PijMmznHW86H3AjDWr7W11FhH+BCvRT3azenJ/B6up92TQZ+vxeXa4rJ0VwIF3OwVcTRdtH/QYF1hMNpzm87EaZMnFu0ILBE5cRLNqae0f8yjflZR+wZZqZG8M7mcLJXEpvu6MMJPzfU8NkbC+fDHgSWOccyHwfGECLzfD+mwGOWsObfjGEup46VN0+I7LxbtZij7bPc3xQhKsfQEs/fHzquIe+BcTYAAAAASUVORK5CYII="},"images":{"fallback":{"src":"/static/b790a0edf57e8a1fdeaa35d55454c0f2/112b0/cors_thumbnail.png","srcSet":"/static/b790a0edf57e8a1fdeaa35d55454c0f2/15cdf/cors_thumbnail.png 132w,\n/static/b790a0edf57e8a1fdeaa35d55454c0f2/55365/cors_thumbnail.png 264w,\n/static/b790a0edf57e8a1fdeaa35d55454c0f2/112b0/cors_thumbnail.png 528w","sizes":"(min-width: 528px) 528px, 100vw"},"sources":[{"srcSet":"/static/b790a0edf57e8a1fdeaa35d55454c0f2/3609b/cors_thumbnail.webp 132w,\n/static/b790a0edf57e8a1fdeaa35d55454c0f2/efdf1/cors_thumbnail.webp 264w,\n/static/b790a0edf57e8a1fdeaa35d55454c0f2/71cd8/cors_thumbnail.webp 528w","type":"image/webp","sizes":"(min-width: 528px) 528px, 100vw"}]},"width":528,"height":500}},"publicURL":"/static/b790a0edf57e8a1fdeaa35d55454c0f2/cors_thumbnail.png"}}}}]}},"pageContext":{"slug":"/post/20220914/cors/"}},"staticQueryHashes":[]}