{"componentChunkName":"component---src-templates-post-template-tsx","path":"/swagger/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<h1 id=\"스웨거\" style=\"position:relative;\">스웨거<a href=\"#%EC%8A%A4%EC%9B%A8%EA%B1%B0\" aria-label=\"스웨거 permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h1>\n<hr>\n<ul>\n<li>\n<p><code class=\"language-text\">@ApiOperation</code>: api의 이름과 설명을 기재</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@ApiOperation</span><span class=\"token punctuation\">(</span>\n    value <span class=\"token operator\">=</span> <span class=\"token string\">\"로그인\"</span><span class=\"token punctuation\">,</span>\n    notes <span class=\"token operator\">=</span> <span class=\"token string\">\"로그인을 시도 로그인 성공 시 \\n\"</span> <span class=\"token operator\">+</span>\n        <span class=\"token string\">\"accessToken은 Authorization헤더에 refreshToken을 식별할 수 있는 uuid는 refresh쿠키에 저장하여 응답한다.\\n\"</span> <span class=\"token operator\">+</span>\n        <span class=\"token string\">\"쿠키의 경우 httpOnly로 브라우저에서 접근할 수 없다.\\n\"</span> <span class=\"token operator\">+</span>\n        <span class=\"token string\">\"이미 로그인된 경우 409 Error를 반환한다.\\n\"</span> <span class=\"token operator\">+</span>\n        <span class=\"token string\">\"requestBody에 pushOut을 true로 넘길 경우 기존 로그인을 종료 시키고 새로 로그인한다.\"</span>\n<span class=\"token punctuation\">)</span>\n<span class=\"token annotation punctuation\">@PostMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/sign-in\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">public</span> <span class=\"token class-name\">ResponseEntity</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">signIn</span><span class=\"token punctuation\">(</span>\n    <span class=\"token class-name\">HttpServletResponse</span> httpServletResponse<span class=\"token punctuation\">,</span>\n    <span class=\"token annotation punctuation\">@Valid</span> <span class=\"token annotation punctuation\">@RequestBody</span> <span class=\"token class-name\">SignInDto</span> signInDto\n<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token class-name\">TokenDto</span> tokenDto <span class=\"token operator\">=</span> authService<span class=\"token punctuation\">.</span><span class=\"token function\">signIn</span><span class=\"token punctuation\">(</span>signInDto<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    httpServletResponse<span class=\"token punctuation\">.</span><span class=\"token function\">addHeader</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">TokenProvider</span><span class=\"token punctuation\">.</span><span class=\"token constant\">AUTHORIZATION_HEADER_NAME</span><span class=\"token punctuation\">,</span>  <span class=\"token class-name\">TokenProvider</span><span class=\"token punctuation\">.</span><span class=\"token constant\">TOKEN_PREFIX</span> <span class=\"token operator\">+</span> tokenDto<span class=\"token punctuation\">.</span><span class=\"token function\">getTokenPair</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getAccessToken</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">return</span> <span class=\"token class-name\">ResponseEntity</span><span class=\"token punctuation\">.</span><span class=\"token function\">ok</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">headers</span><span class=\"token punctuation\">(</span>tokenDto<span class=\"token punctuation\">.</span><span class=\"token function\">getHttpHeaders</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">body</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"success\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><img src=\"%7B%7Bsite.url%7D%7D/assets/images/jmb/swagger/img.png\" alt=\"img\"></p>\n</li>\n<li>\n<p><code class=\"language-text\">@ApiModelProperty</code>: 응답 객체필드에 대한 명세를 기재</p>\n<ul>\n<li>name: 속성의 이름을 재정의 할 수 있게 함</li>\n<li>example: 속성 값에 대한 예시를 보여줌</li>\n<li>notes: 속성 값에 대한 설명을 기재</li>\n<li>required: 필수 여부</li>\n<li>hidden: 필드를 스웨거 문서에서 숨김처리</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Getter</span>\n<span class=\"token annotation punctuation\">@Setter</span>\n<span class=\"token annotation punctuation\">@Builder</span>\n<span class=\"token annotation punctuation\">@NoArgsConstructor</span>\n<span class=\"token annotation punctuation\">@AllArgsConstructor</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">SignInDto</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token annotation punctuation\">@ApiModelProperty</span><span class=\"token punctuation\">(</span>\n        name <span class=\"token operator\">=</span> <span class=\"token string\">\"사용자 아이디\"</span><span class=\"token punctuation\">,</span>\n        example <span class=\"token operator\">=</span> <span class=\"token string\">\"example@example.com\"</span><span class=\"token punctuation\">,</span>\n        notes <span class=\"token operator\">=</span> <span class=\"token string\">\"사용자의 아이디며 이메일 형식을 가진다.\"</span>\n    <span class=\"token punctuation\">)</span>\n    <span class=\"token annotation punctuation\">@NotBlank</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> userId<span class=\"token punctuation\">;</span>\n    \n    <span class=\"token annotation punctuation\">@NotBlank</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> userPassword<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Boolean</span> pushOut<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><img src=\"%7B%7Bsite.url%7D%7D/assets/images/jmb/swagger/img2.png\" alt=\"img1\"></p>\n</li>\n</ul>\n<p><img src=\"%7B%7Bsite.url%7D%7D/assets/images/jmb/swagger/img2.png\" alt=\"img2\"></p>\n<ul>\n<li>\n<p><code class=\"language-text\">@ApiImplicitParam</code> : api의 파라메터에 대한 명세를 기재</p>\n<p><code class=\"language-text\">@ApiImplicitParams</code>로 하나 이상의 파라메터에 대한 정보 기재 가능</p>\n<p><code class=\"language-text\">dataType</code>, <code class=\"language-text\">paramType</code>, <code class=\"language-text\">required</code>의 경우 해당 <code class=\"language-text\">name</code>의 정보가 자동으로 채워지므로 생략 가능</p>\n<ul>\n<li>name: 파라메터의 변수 명</li>\n<li>value: 표시될 파라메터의 값(이름)</li>\n<li>defaultValue: 디폴트 값</li>\n<li>dataType: 파라메터의 타입</li>\n<li>dataTypeClass: 파라메터의 클래스 타입, dataType 존재 시 재정의(덮어쓰기) 함</li>\n<li>paramType: 파라메터의 타입 <code class=\"language-text\">path</code>, <code class=\"language-text\">query</code>, <code class=\"language-text\">body</code>, <code class=\"language-text\">header</code>, <code class=\"language-text\">form</code> 중 하나의 값을 가짐</li>\n<li>required: 필수 여부</li>\n<li>format: 사용자 지정 format을 추가</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@ApiImplicitParam</span><span class=\"token punctuation\">(</span>\n    name <span class=\"token operator\">=</span> <span class=\"token string\">\"signInDto\"</span><span class=\"token punctuation\">,</span>\n    value <span class=\"token operator\">=</span> <span class=\"token string\">\"사용자 로그인 정보\"</span><span class=\"token punctuation\">,</span>\n    dataTypeClass <span class=\"token operator\">=</span> <span class=\"token class-name\">SignInDto</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span>\n<span class=\"token punctuation\">)</span>\n<span class=\"token annotation punctuation\">@PostMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/sign-in\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">public</span> <span class=\"token class-name\">ResponseEntity</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">signIn</span><span class=\"token punctuation\">(</span>\n    <span class=\"token class-name\">HttpServletResponse</span> httpServletResponse<span class=\"token punctuation\">,</span>\n    <span class=\"token annotation punctuation\">@Valid</span> <span class=\"token annotation punctuation\">@RequestBody</span> <span class=\"token class-name\">SignInDto</span> signInDto\n<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token class-name\">TokenDto</span> tokenDto <span class=\"token operator\">=</span> authService<span class=\"token punctuation\">.</span><span class=\"token function\">signIn</span><span class=\"token punctuation\">(</span>signInDto<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    httpServletResponse<span class=\"token punctuation\">.</span><span class=\"token function\">addHeader</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">TokenProvider</span><span class=\"token punctuation\">.</span><span class=\"token constant\">AUTHORIZATION_HEADER_NAME</span><span class=\"token punctuation\">,</span>  <span class=\"token class-name\">TokenProvider</span><span class=\"token punctuation\">.</span><span class=\"token constant\">TOKEN_PREFIX</span> <span class=\"token operator\">+</span> tokenDto<span class=\"token punctuation\">.</span><span class=\"token function\">getTokenPair</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getAccessToken</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">return</span> <span class=\"token class-name\">ResponseEntity</span><span class=\"token punctuation\">.</span><span class=\"token function\">ok</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">headers</span><span class=\"token punctuation\">(</span>tokenDto<span class=\"token punctuation\">.</span><span class=\"token function\">getHttpHeaders</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">body</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"success\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><img src=\"%7B%7Bsite.url%7D%7D/assets/images/jmb/swagger/img3.png\" alt=\"img3\"></p>\n</li>\n<li>\n<p><code class=\"language-text\">@ApiIgnore</code> api를 스웨거 문서에서 보이지 않게 함</p>\n<ul>\n<li>value: 문서에서 배제된 사유를 기재</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@ApiIgnore</span><span class=\"token punctuation\">(</span>value <span class=\"token operator\">=</span> <span class=\"token string\">\"뀨\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token annotation punctuation\">@ApiOperation</span><span class=\"token punctuation\">(</span>\n    value <span class=\"token operator\">=</span> <span class=\"token string\">\"토큰 리이슈\"</span><span class=\"token punctuation\">,</span>\n    notes <span class=\"token operator\">=</span> <span class=\"token string\">\"쿠키의 uuid를 가지고 토큰을 리이슈한다.\"</span>\n<span class=\"token punctuation\">)</span>\n<span class=\"token annotation punctuation\">@PostMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/token/reissue\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">tokenReissue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n<li>\n<p><code class=\"language-text\">@ApiResponse</code> : api의 상태코드값 별 메세지를 설정 가능</p>\n<p><code class=\"language-text\">@ApiResponses</code>로 하나 이상의  상태값에 대한 메세지 설정 가능</p>\n<ul>\n<li>\n<p>code: 응답 상태코드</p>\n</li>\n<li>\n<p>message: 상태코드에 표시될 메세지</p>\n</li>\n<li>\n<p>response: 메시지의 페이로드를 설명하는 선택적 응답 클래스, 응답 메시지 개체의 ‘schema’ 필드에 해당</p>\n</li>\n<li>\n<p>responseHeaders:</p>\n<p><code class=\"language-text\">@ResponseHeader</code></p>\n<ul>\n<li>name: 헤더이름</li>\n<li>response: 헤더의 데이터 타입</li>\n<li>description: 설명</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@ApiResponses</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    <span class=\"token annotation punctuation\">@ApiResponse</span><span class=\"token punctuation\">(</span>\n        code <span class=\"token operator\">=</span> <span class=\"token number\">200</span><span class=\"token punctuation\">,</span>\n        message <span class=\"token operator\">=</span> <span class=\"token string\">\"로그인 성공\"</span><span class=\"token punctuation\">,</span>\n        response <span class=\"token operator\">=</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">,</span>\n        responseHeaders <span class=\"token operator\">=</span> <span class=\"token annotation punctuation\">@ResponseHeader</span><span class=\"token punctuation\">(</span>\n            name <span class=\"token operator\">=</span> <span class=\"token string\">\"Authorization\"</span><span class=\"token punctuation\">,</span>\n            description <span class=\"token operator\">=</span> <span class=\"token string\">\"jwt 토큰이 전달됨 ex) Bearer eysg3swg...\"</span><span class=\"token punctuation\">,</span>\n            response <span class=\"token operator\">=</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span>\n        <span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p><img src=\"%7B%7Bsite.url%7D%7D/assets/images/jmb/swagger/img4.png\" alt=\"img4\"></p>\n</li>\n<li>\n<p>responseContainer:</p>\n</li>\n</ul>\n</li>\n</ul>\n<blockquote>\n<p>참조: <a href=\"https://kim-jong-hyun.tistory.com/49\" target=\"_blank\" rel=\"nofollow\">https://kim-jong-hyun.tistory.com/49,</a> <a href=\"https://machine-geon.tistory.com/139\" target=\"_blank\" rel=\"nofollow\">https://machine-geon.tistory.com/139</a></p>\n</blockquote>","tableOfContents":"<ul>\n<li><a href=\"#%EC%8A%A4%EC%9B%A8%EA%B1%B0\">스웨거</a></li>\n</ul>","frontmatter":{"title":"Swagger","summary":"스웨거 어노테이션","date":"2022.07.03.","categories":["Spring"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAADTUlEQVQozx2P2zfbBwCAf3/LztnO6bq1Dz1ns0ndh9Rc65KFXCQipAhyQe4UmbmclCalhuVUFIsjJMFGtEYRK2XEZe16erY97L/4dtqH7+V7+c4nHM4ZePWziVcLZo6CJo4X2zhbsnC+ZOEqYv/Am1Unr1ddvFmz8fZXB2/XbPyz6eLd+ntv42rVxUXUyWXUiRB/aiT+1MDBrIGX80b254z8EbJwtthBYtnKRcTGRdj2IbA7b2U31M9eZJiDFS/7YQ/7i72cLNu5XHVwHrEjHMwYiU02MjtYzW6ghehoPfszBk4XLZyGOkiErFyFLcQmWni5u8bVeZzEyQ6H8Rh72yvE92JsL3lIvL8K2xG2/XpeBAyEvbXMD6mIPKojHjByPNfG0ayZXX8rR7MGAv06Tk92ePFbmOjSE+Znxph8PMDm+iKHG1McB81cRh0IW1ONPPvxHuGHWpa9WsacEvw9MiY6q5jokuN31zDulGLTFXF18Tt//XnIs40QO1tRjg5i/PfvJbGFEeLTTSSWbAgrPi3hB2omO6UE+uSMdJTQ8F0aQzYFXpeSie/riE61020oZdY/zN/vzthYC7K3Feb52gzheR/PA1ZOgibOQhaEgLuKyIiG9UcaNh5rMSozqC76ihZFFiXpN8j64mPEouuoSkQ86DPR3ixHXSpisEPC+H0p0bE6zqMOEmEr8TkTwopXRWxcw8a4DldjOd+m3aKntQxFcQq5ydcQp9wkO/kGqbc+YbyvHp0kFY9Vxumynde/ODiNONh8YmK0swazthJhtNfEcJcNtaKZzG+kZCR9hs8pw9FQyN3cJDSKcuQVeYhufkTA04iuUkyOuIZmXTujP3TT365BUpBLaWkxNWoZQkeLEnt3kCb9IDUKLZlffspDexVjXXLkBUlICtMoy08nL+VzfhrUoSq/g1FvR63tQ1XnplZRjDg7GY3kNm5jPoJGUYhSWo/TbMZzX4+0OIuC29fwuZRMD9ahLkoiT3SdekkaOmkmboeeoN9DrVJHTlYumZlf01Cdg2dARa9bi5CTnkGjshxfv4WBzlaa1Xdo0pYhKxGhl6cy1K1FUZFNZX4y91Ql+AbsLEx76bG3oZLkYa/PQFOVg0xTRUHFXf4HxKxqL6EXfrIAAAAASUVORK5CYII="},"images":{"fallback":{"src":"/static/5fb235b812b70bffacbd78de994d9585/1115f/test.png","srcSet":"/static/5fb235b812b70bffacbd78de994d9585/ac032/test.png 118w,\n/static/5fb235b812b70bffacbd78de994d9585/17927/test.png 235w,\n/static/5fb235b812b70bffacbd78de994d9585/1115f/test.png 470w","sizes":"(min-width: 470px) 470px, 100vw"},"sources":[{"srcSet":"/static/5fb235b812b70bffacbd78de994d9585/f421b/test.webp 118w,\n/static/5fb235b812b70bffacbd78de994d9585/42a7d/test.webp 235w,\n/static/5fb235b812b70bffacbd78de994d9585/758aa/test.webp 470w","type":"image/webp","sizes":"(min-width: 470px) 470px, 100vw"}]},"width":470,"height":272}},"publicURL":"/static/5fb235b812b70bffacbd78de994d9585/test.png"}}}}]}},"pageContext":{"slug":"/swagger/"}},"staticQueryHashes":[]}