{"componentChunkName":"component---src-templates-post-template-tsx","path":"/RestDocs/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<style>\n  qq{\n    color: red; \n    background-color: whitesmoke; \n    border-radius: 10%; \n    font-size: 80%;\n  }\n  ww{\n    color: orange; \n    background-color: whitesmoke; \n    border-radius: 10%; \n    font-size: 80%;\n  }\n</style>\n<h1 id=\"rest-docs란\" style=\"position:relative;\">Rest Docs란<a href=\"#rest-docs%EB%9E%80\" aria-label=\"rest docs란 permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h1>\n<blockquote>Spring REST Docs의 목표는 RESTful 서비스에 대한 정확하고 읽기 쉬운 문서를 생성하도록 돕는 것입니다. <br/>\n고품질 문서를 작성하는 것은 어렵습니다. 그 어려움을 완화하는 한 가지 방법은 작업에 잘 맞는 도구를 사용하는 것입니다. <br/>\n이를 위해 Spring REST Docs는 기본적으로 <qq>Asciidoctor</qq> 를 사용합니다. <br/>\n<qq>Asciidoctor</qq>는 일반 텍스트를 처리하고 필요에 맞게 스타일이 지정되고 배치된 HTML을 생성합니다. <br/>\n원하는 경우 <qq>Markdown</qq>을 사용하도록 Spring REST Docs를 구성할 수도 있습니다. <br/>\nSpring REST Docs는 Spring MVC의 <qq>테스트 프레임워크</qq> , \nSpring WebFlux <qq>WebTestClient</qq>또는 <qq>REST Assured 3</qq> 로 작성된 테스트에서 생성된 스니펫을 사용합니다 . <br/>\n이 테스트 기반 접근 방식은 서비스 문서의 정확성을 보장하는 데 도움이 됩니다. 스니펫이 올바르지 않으면 이를 생성하는 테스트가 실패합니다. <br/>\nRESTful 서비스를 문서화하는 것은 주로 리소스를 설명하는 것입니다. 각 리소스 설명의 두 가지 핵심 부분은 소비하는 HTTP 요청의 세부 정보와 생성하는 HTTP 응답입니다. <br/>\nSpring REST Docs를 사용하면 이러한 리소스와 HTTP 요청 및 응답으로 작업하여 서비스 구현의 내부 세부 사항으로부터 문서를 보호할 수 있습니다. \n이 분리는 구현이 아닌 서비스의 API를 문서화하는 데 도움이 됩니다. 또한 문서를 다시 작업하지 않고도 구현을 발전시킬 수 있습니다. <br/>\n<br/>\n-docs.spring.io의 소개 글-\n</blockquote>\n<p>API문서 작성을 자동화해주는 도구로 테스코드 기반으로 API문서를 작성하기 때문에 소스코드에 영향을 주지 않으며 문서의 정확성을 보장하는데\n도움을 줍니다.</p>\n<h1 id=\"rest-docs-vs-스웨거\" style=\"position:relative;\">Rest Docs vs 스웨거<a href=\"#rest-docs-vs-%EC%8A%A4%EC%9B%A8%EA%B1%B0\" aria-label=\"rest docs vs 스웨거 permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h1>\n<p>API문서 자동화라고하면 Rest Docs 이외에도 스웨거가 많이 거론됩니다.</p>\n<p>이 둘을 장단점을 비교해보겠습니다.</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>Rest Docs</th>\n<th>Swagger</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>장점</td>\n<td>소스코드에 영향이 없다. <br/> 테스트코드 기반으로 소스코드에 변경이 있을 시 문서와의 동기화가 잘 된다.</td>\n<td>API를 테스트 해볼 수 있는 환경이 제공된다. <br/>적용이 쉽고 간단한 편이다.</td>\n</tr>\n<tr>\n<td>단점</td>\n<td>적용하기 비교적 어렵다.</td>\n<td>소스코드 내부에 문서와 관련된 어노테이션을 추가해야한다. <br/>코드와 문서간의 불일치가 발생할 가능성이 있다.</td>\n</tr>\n</tbody>\n</table>\n<h1 id=\"설정\" style=\"position:relative;\">설정<a href=\"#%EC%84%A4%EC%A0%95\" aria-label=\"설정 permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h1>\n<ul>\n<li><qq>springboot: 2.7.0</qq></li>\n<li><qq>gradle: 7.4.1</qq></li>\n<li><qq>JUnit5</qq></li>\n<li><qq>MockMvc</qq></li>\n<li><qq>Asciidoctor</qq></li>\n</ul>\n<h2 id=\"buildgradle\" style=\"position:relative;\">build.gradle<a href=\"#buildgradle\" aria-label=\"buildgradle permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<div class=\"gatsby-highlight\" data-language=\"gradle\"><pre class=\"language-gradle\"><code class=\"language-gradle\"><span class=\"token keyword\">plugins</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// gradle 7.0 이상부터는 jvm 사용</span>\n        <span class=\"token comment\">// id 'org.asciidoctor.convert' version '1.5.6' gradle7 이전 버전에서 사용</span>\n\tid <span class=\"token string\">'org.asciidoctor.jvm.convert'</span> version <span class=\"token string\">'3.3.2'</span>\n<span class=\"token punctuation\">}</span>\n\nconfigurations <span class=\"token punctuation\">{</span>\n\t<span class=\"token comment\">// build/generated-snippets 에 생긴 .adoc 조각들을 프로젝트 내의 .adoc 파일에서 읽어들일 수 있도록 연동해줍니다.</span>\n\t<span class=\"token comment\">// 이 덕분에 .adoc 파일에서 operation 같은 매크로를 사용하여 스니펫 조각들을 연동할 수 있는 것입니다.</span>\n\t<span class=\"token comment\">// 그리고 최종적으로 .adoc 파일을 HTML로 만들어 export 해줍니다.</span>\n\tasciidoctorExtensions\n<span class=\"token punctuation\">}</span>\n\next <span class=\"token punctuation\">{</span>\n\tsnippetsDir <span class=\"token operator\">=</span> <span class=\"token function\">file</span><span class=\"token punctuation\">(</span><span class=\"token string\">'build/generated-snippets'</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\ntest <span class=\"token punctuation\">{</span>\n\toutputs<span class=\"token punctuation\">.</span>dir snippetsDir\n\t<span class=\"token function\">useJUnitPlatform</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\nasciidoctor <span class=\"token punctuation\">{</span>\n\tinputs<span class=\"token punctuation\">.</span>dir snippetsDir\n\tconfigurations <span class=\"token string\">'asciidoctorExtensions'</span>\n\tdependsOn test\n\n\t<span class=\"token comment\">// 특정 .adoc에 다른 adoc 파일을 가져와서(include) 사용하고 싶을 경우 경로를 baseDir로 맞춰주는 설정입니다.</span>\n\t<span class=\"token comment\">// 개별 adoc으로 운영한다면 필요 없는 옵션입니다.</span>\n\t<span class=\"token function\">baseDirFollowsSourceFile</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\nasciidoctor<span class=\"token punctuation\">.</span>doFirst <span class=\"token punctuation\">{</span>\n\t<span class=\"token comment\">// 기존에 존재하던 문서파일 삭제</span>\n\tdelete <span class=\"token function\">file</span><span class=\"token punctuation\">(</span><span class=\"token string\">'src/main/resources/static/docs'</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// asccidoctor 작업 이후 생성된 HTML 파일을 static/docs 로 copy</span>\ntask <span class=\"token function\">copyDocument</span><span class=\"token punctuation\">(</span>type<span class=\"token punctuation\">:</span> Copy<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\tdependsOn asciidoctor\n\tfrom <span class=\"token function\">file</span><span class=\"token punctuation\">(</span><span class=\"token interpolation-string\"><span class=\"token string\">\"build/docs/asciidoc\"</span></span><span class=\"token punctuation\">)</span>\n\tinto <span class=\"token function\">file</span><span class=\"token punctuation\">(</span><span class=\"token interpolation-string\"><span class=\"token string\">\"src/main/resources/static/docs\"</span></span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\nbuild <span class=\"token punctuation\">{</span>\n\tdependsOn copyDocument\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">dependencies</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">//...</span>\n\n        <span class=\"token comment\">// rest docs</span>\n\tasciidoctorExtensions <span class=\"token string\">'org.springframework.restdocs:spring-restdocs-asciidoctor'</span>\n\ttestImplementation <span class=\"token string\">'org.springframework.restdocs:spring-restdocs-mockmvc'</span>\n\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"adoc-생성\" style=\"position:relative;\">*.adoc 생성<a href=\"#adoc-%EC%83%9D%EC%84%B1\" aria-label=\"adoc 생성 permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p><ww>src/docs/asciidoc</ww> 디렉터리 안에 .adoc로 끝나는 파일을 미리 생성해 두어야 합니다.</p>\n<p>파일의 이름은 원하는대로 설정 가능하며, <ww>build.gradle</ww>에 설정한 경로인 <ww>\nsrc/resources/static/docs</ww> 에 같은 이름의 html파일로 복사됩니다.</p>\n<p><img src=\"%7B%7Bsite.url%7D%7D/assets/images/jmb/restdocs/img1.png\" alt=\"img1\">\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 163px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/315a7633cbc60637a21cb59a665a446e/5e043/profile-image.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 51.533742331288344%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB9klEQVQoz42SW0/bQBSE83vaUkRbSOLYjte7vqzXt4QQSEoQUksgakuhAnFt0wr1d3+VN5DnPozGZ+ZotEeelopTokTTsIo1oYoRYWS/V9r/o8lpyShBJZqsLCx0bkjM81wU6CJfey/aerfxitxygyanFYQR+SAnHYWoykcUPWTpEhYuYelareEXyNKzfrPXeKr2kZVHtqfQpaEVSkU+zHGS95QHmtn8AFX3qSYZZhwj8h7prnxGSDIUxAPB7qy0gc1e43l6h6wytAIhyerMClEdsPz7yOXtOVf3F1w9XHK8mPHz6Z5fTw92vn78wf3yhtvlNfXUMJtPGH4s8LI2aaFp+YEkHxpE2bViYBzC0iOsXHtOPAwsZOXa09anVy5B3rU7DYvSWQV6viBQApn3CTOfvunQS7bxEwcv7lo9qSVRLVFVSDJQRFVIVIo14lpiRilBKGj1heT1xiYf2tu4/S7l2LA4PyMQytZn4+0WPV9Qas2nvQFKJYz3p+ztT5hMZ4zGB5i8ot1xOTw6bv6y4tWbTSIj2D/O6XQ9lr//cHN3x+f5nM2td/gy4nA04OFkRppqprMjTuannH+/4OT0jPFkStf1WXz5tuqh4/p0HJedtkPH6bHd7qzmjoPnB8RpRqoNWWZIdGZLHKd6XeZEG5qHLb585R+uSXdshHzpIAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/315a7633cbc60637a21cb59a665a446e/a81b5/profile-image.webp 163w\"\n              sizes=\"(max-width: 163px) 100vw, 163px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/315a7633cbc60637a21cb59a665a446e/5e043/profile-image.png 163w\"\n            sizes=\"(max-width: 163px) 100vw, 163px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/315a7633cbc60637a21cb59a665a446e/5e043/profile-image.png\"\n            alt=\"img2\"\n            title=\"img2\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span>\n<img src=\"%7B%7Bsite.url%7D%7D/assets/images/jmb/restdocs/img2.png\" alt=\"img2\"></p>\n<p>인텔리제이에서는 플러그인 설치 시 해당 파일의 결과를 미리볼 수 있습니다.</p>\n<p><img src=\"%7B%7Bsite.url%7D%7D/assets/images/jmb/restdocs/img3.png\" alt=\"img3\"></p>\n<h1 id=\"빌드\" style=\"position:relative;\">빌드<a href=\"#%EB%B9%8C%EB%93%9C\" aria-label=\"빌드 permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h1>\n<p>테스트코드 기반인 만큼 빌드 시 테스트코드 동작 후 테스트 통과 시 문서를 자동생성하며 테스트 실패 시 문서가 생성되지 않습니다.</p>\n<p>문서들은 <ww>build.gradle</ww>에 설정한 경로인 <ww>build/generated-snippets</ww>에 생성됩니다.</p>\n<p><img src=\"%7B%7Bsite.url%7D%7D/assets/images/jmb/restdocs/img4.png\" alt=\"img4\"></p>\n<h2 id=\"빌드-실패-원인확인\" style=\"position:relative;\">빌드 실패 원인확인<a href=\"#%EB%B9%8C%EB%93%9C-%EC%8B%A4%ED%8C%A8-%EC%9B%90%EC%9D%B8%ED%99%95%EC%9D%B8\" aria-label=\"빌드 실패 원인확인 permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>빌드 실패 시 <ww>build/reports/tests/test/index.html</ww>에서 테스트 결과와 실패 원인을 확인해 볼 수\n있습니다.</p>\n<p><img src=\"%7B%7Bsite.url%7D%7D/assets/images/jmb/restdocs/img5.png\" alt=\"img5\"></p>\n<h1 id=\"문서-조합\" style=\"position:relative;\">문서 조합<a href=\"#%EB%AC%B8%EC%84%9C-%EC%A1%B0%ED%95%A9\" aria-label=\"문서 조합 permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h1>\n<blockquote>\n<p>asciidoc 기본 사용법: <a href=\"https://narusas.github.io/2018/03/21/Asciidoc-basic.html\" target=\"_blank\" rel=\"nofollow\">https://narusas.github.io/2018/03/21/Asciidoc-basic.html</a></p>\n</blockquote>\n<p><ww>include::{snippets}/index/curl-request.adoc[]</ww> 형식으로 문서에 스니펫을 추가할 수 있습니다.</p>\n<h2 id=\"자동조합\" style=\"position:relative;\">자동조합<a href=\"#%EC%9E%90%EB%8F%99%EC%A1%B0%ED%95%A9\" aria-label=\"자동조합 permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>위의 <ww>include</ww>를 매 파일마다 입력하기란 매우 번거로운 작업입니다.</p>\n<p>asciidoc에서는 operation 키워드를 이용해 해당 위치의 파일들을 자동으로 읽어올 수 있습니다.\n스니펫을 불러오면서 헤더도 자동으로 생성해 줍니다.</p>\n<p><ww>operation::document-identifier[option]</ww></p>\n<p>option 입력 시 원하는 파일을 선택하여 조합이 가능합니다. (주의: ,에 띄어쓰기를 사용하면 안됨)</p>\n<p>(o)<ww>operation::\nuser[snippets=‘http-request,http-response,response-fields’]</ww>\n(x)<ww>operation::\nuser[snippets=‘http-request, http-response, response-fields’]</ww></p>\n<p>만약 헤더의 이름이 마음에 들지 않는다면 직접 지정할 수도 있습니다.\n<ww>:operation-http-request-title: header name sample</ww></p>\n<p><img src=\"%7B%7Bsite.url%7D%7D/assets/images/jmb/restdocs/img6.png\" alt=\"img6\"></p>\n<p><img src=\"%7B%7Bsite.url%7D%7D/assets/images/jmb/restdocs/img7.png\" alt=\"img7\"></p>\n<h1 id=\"스니펫-커스텀\" style=\"position:relative;\">스니펫 커스텀<a href=\"#%EC%8A%A4%EB%8B%88%ED%8E%AB-%EC%BB%A4%EC%8A%A4%ED%85%80\" aria-label=\"스니펫 커스텀 permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h1>\n<blockquote>\n<p><qq>.snippet</qq> 파일은 <qq>mustache</qq>를 기반으로 작성되어 있습니다.</p>\n</blockquote>\n<p>자동으로 생성되는 스니펫은 간편하고 유용하지만 추가정보를 담거나 형태를 수정하고 싶은 경우가 있습니다.</p>\n<h2 id=\"파일-커스텀\" style=\"position:relative;\">파일 커스텀<a href=\"#%ED%8C%8C%EC%9D%BC-%EC%BB%A4%EC%8A%A4%ED%85%80\" aria-label=\"파일 커스텀 permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p><ww>test/resources/org/springframework/restdocs/templates</ww> 에 원하는 스니펫 파일을 원본 이름과 같게 만들어 커스텀 가능합니다.</p>\n<p><img src=\"%7B%7Bsite.url%7D%7D/assets/images/jmb/restdocs/img8.png\" alt=\"img8\"></p>\n<p>기본 템플릿은 <ww>spring-restdocs-core</ww>의  <ww>\norg.springframework.restdocs.templates.asciidoctor</ww>에 존재합니다.</p>\n<p>이를 참고하여 기본형태에 원하는 값을 추가할 수도 있고 형태를 변경 시킬 수도 있습니다.</p>\n<p><img src=\"%7B%7Bsite.url%7D%7D/assets/images/jmb/restdocs/img9.png\" alt=\"img9\"></p>\n<h2 id=\"데이터-커스텀\" style=\"position:relative;\">데이터 커스텀<a href=\"#%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%BB%A4%EC%8A%A4%ED%85%80\" aria-label=\"데이터 커스텀 permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p><ww>FieldDescriptor</ww> 의 요소 중에는 <ww>attributes</ww> 라는 메서드가 있으며 해당 메서드를 이용하여 속성을 추가, 수정할 수 있습니다.</p>\n<p>속성 추가</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">DocumentAttributeGenerator</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">static</span> <span class=\"token class-name\">Attributes<span class=\"token punctuation\">.</span>Attribute</span> <span class=\"token function\">getDateTimeFormat</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token class-name\">Attributes</span><span class=\"token punctuation\">.</span><span class=\"token function\">key</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"format\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">value</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"yyyy-MM-ddTHH:mm:ss.SSSSS\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">static</span> <span class=\"token class-name\">Attributes<span class=\"token punctuation\">.</span>Attribute</span> <span class=\"token function\">getDateFormat</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token class-name\">Attributes</span><span class=\"token punctuation\">.</span><span class=\"token function\">key</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"format\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">value</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"yyyy-MM-dd\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>속성 적용</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\">resultActions<span class=\"token punctuation\">.</span><span class=\"token function\">andExpect</span><span class=\"token punctuation\">(</span><span class=\"token function\">status</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">isOk</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n  <span class=\"token comment\">// ...</span>\n\n  <span class=\"token function\">responseFields</span><span class=\"token punctuation\">(</span>\n  <span class=\"token comment\">// ...</span>\n\n  <span class=\"token function\">fieldWithPath</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"createdDateTime\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">type</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">JsonFieldType</span><span class=\"token punctuation\">.</span><span class=\"token constant\">STRING</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">attributes</span><span class=\"token punctuation\">(</span><span class=\"token function\">getDateTimeFormat</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">description</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"생성일자\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function\">fieldWithPath</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"updatedDateTime\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">type</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">JsonFieldType</span><span class=\"token punctuation\">.</span><span class=\"token constant\">STRING</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">attributes</span><span class=\"token punctuation\">(</span><span class=\"token function\">getDateTimeFormat</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">description</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"수정일자\"</span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token comment\">// ...</span>\n  <span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"예시\" style=\"position:relative;\">예시<a href=\"#%EC%98%88%EC%8B%9C\" aria-label=\"예시 permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>기본형태\n<img src=\"%7B%7Bsite.url%7D%7D/assets/images/jmb/restdocs/mustache1.png\" alt=\"mustache1\"></p>\n<p>스니펫을 커스텀하여 <ww>Optional</ww>, <ww>Format</ww> 을 추가한 형태\n<img src=\"%7B%7Bsite.url%7D%7D/assets/images/jmb/restdocs/mustache2.png\" alt=\"mustache2\"></p>\n<p><img src=\"%7B%7Bsite.url%7D%7D/assets/images/jmb/restdocs/img10.png\" alt=\"img10\"></p>\n<h1 id=\"예시-및-결과\" style=\"position:relative;\">예시 및 결과<a href=\"#%EC%98%88%EC%8B%9C-%EB%B0%8F-%EA%B2%B0%EA%B3%BC\" aria-label=\"예시 및 결과 permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h1>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token comment\">//사용자 수정 테스트코드</span>\n<span class=\"token annotation punctuation\">@Test</span>\n<span class=\"token annotation punctuation\">@WithMockUser</span><span class=\"token punctuation\">(</span>username <span class=\"token operator\">=</span> <span class=\"token string\">\"qwe\"</span><span class=\"token punctuation\">,</span> password <span class=\"token operator\">=</span> <span class=\"token string\">\"qwe\"</span><span class=\"token punctuation\">,</span> authorities <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token string\">\"ROLE_ADMIN\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"ROLE_USER\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">update</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token keyword\">throws</span> <span class=\"token class-name\">Exception</span><span class=\"token punctuation\">{</span>\n\n  <span class=\"token class-name\">UpdateUserDto</span> updateUserDto<span class=\"token operator\">=</span><span class=\"token class-name\">UpdateUserDto</span><span class=\"token punctuation\">.</span><span class=\"token function\">builder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">userName</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"asd\"</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">userRole</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Role</span><span class=\"token punctuation\">.</span><span class=\"token constant\">ROLE_USER</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">userPhoneNumber</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"010-1111-2223\"</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">locked</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token class-name\">UserDetailDto</span> detailDto<span class=\"token operator\">=</span><span class=\"token class-name\">UserDetailDto</span><span class=\"token punctuation\">.</span><span class=\"token function\">builder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">userIndex</span><span class=\"token punctuation\">(</span><span class=\"token number\">1L</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">userId</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"qwe\"</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">userName</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"asd\"</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">userRole</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Role</span><span class=\"token punctuation\">.</span><span class=\"token constant\">ROLE_USER</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">userPhoneNumber</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"010-1111-2223\"</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">locked</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">isDelete</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">createdDateTime</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">LocalDateTime</span><span class=\"token punctuation\">.</span><span class=\"token function\">of</span><span class=\"token punctuation\">(</span><span class=\"token number\">2022</span><span class=\"token punctuation\">,</span><span class=\"token number\">6</span><span class=\"token punctuation\">,</span><span class=\"token number\">24</span><span class=\"token punctuation\">,</span><span class=\"token number\">15</span><span class=\"token punctuation\">,</span><span class=\"token number\">30</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">updatedDateTime</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">LocalDateTime</span><span class=\"token punctuation\">.</span><span class=\"token function\">of</span><span class=\"token punctuation\">(</span><span class=\"token number\">2022</span><span class=\"token punctuation\">,</span><span class=\"token number\">6</span><span class=\"token punctuation\">,</span><span class=\"token number\">24</span><span class=\"token punctuation\">,</span><span class=\"token number\">15</span><span class=\"token punctuation\">,</span><span class=\"token number\">30</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">when</span><span class=\"token punctuation\">(</span>userService<span class=\"token punctuation\">.</span><span class=\"token function\">updateUser</span><span class=\"token punctuation\">(</span><span class=\"token function\">any</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token function\">any</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">thenReturn</span><span class=\"token punctuation\">(</span>detailDto<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token class-name\">ResultActions</span> resultActions<span class=\"token operator\">=</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>mockMvc<span class=\"token punctuation\">.</span><span class=\"token function\">perform</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">RestDocumentationRequestBuilders</span><span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/api/users/{userIndex}\"</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">header</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">TokenProvider</span><span class=\"token punctuation\">.</span><span class=\"token constant\">AUTHORIZATION_HEADER_NAME</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"here is jwt\"</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">content</span><span class=\"token punctuation\">(</span>objectMapper<span class=\"token punctuation\">.</span><span class=\"token function\">writeValueAsString</span><span class=\"token punctuation\">(</span>updateUserDto<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">contentType</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">MediaType</span><span class=\"token punctuation\">.</span><span class=\"token constant\">APPLICATION_JSON</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">accept</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">MediaType</span><span class=\"token punctuation\">.</span><span class=\"token constant\">APPLICATION_JSON</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  resultActions<span class=\"token punctuation\">.</span><span class=\"token function\">andExpect</span><span class=\"token punctuation\">(</span><span class=\"token function\">status</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">isOk</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">andDo</span><span class=\"token punctuation\">(</span><span class=\"token function\">document</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"user-update\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token class-name\">ApiDocumentUtils</span><span class=\"token punctuation\">.</span><span class=\"token function\">getDocumentRequest</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token class-name\">ApiDocumentUtils</span><span class=\"token punctuation\">.</span><span class=\"token function\">getDocumentResponse</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function\">pathParameters</span><span class=\"token punctuation\">(</span>\n  <span class=\"token function\">parameterWithName</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"userIndex\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">description</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"인덱스\"</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function\">requestFields</span><span class=\"token punctuation\">(</span>\n  <span class=\"token function\">fieldWithPath</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"userName\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">type</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">JsonFieldType</span><span class=\"token punctuation\">.</span><span class=\"token constant\">STRING</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">description</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"이름\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">optional</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function\">fieldWithPath</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"userPhoneNumber\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">type</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">JsonFieldType</span><span class=\"token punctuation\">.</span><span class=\"token constant\">STRING</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">description</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"핸드폰번호\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">optional</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function\">fieldWithPath</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"userRole\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">attributes</span><span class=\"token punctuation\">(</span><span class=\"token function\">getEnumAttr</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Role</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">description</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"권한\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">optional</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function\">fieldWithPath</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"locked\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">type</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">JsonFieldType</span><span class=\"token punctuation\">.</span><span class=\"token constant\">BOOLEAN</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">description</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"잠금여부\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">optional</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function\">responseFields</span><span class=\"token punctuation\">(</span>\n  <span class=\"token function\">fieldWithPath</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"userIndex\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">type</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">JsonFieldType</span><span class=\"token punctuation\">.</span><span class=\"token constant\">NUMBER</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">description</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"인덱스\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function\">fieldWithPath</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"userId\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">type</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">JsonFieldType</span><span class=\"token punctuation\">.</span><span class=\"token constant\">STRING</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">description</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"아이디\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function\">fieldWithPath</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"userName\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">type</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">JsonFieldType</span><span class=\"token punctuation\">.</span><span class=\"token constant\">STRING</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">description</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"이름\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function\">fieldWithPath</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"userPhoneNumber\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">type</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">JsonFieldType</span><span class=\"token punctuation\">.</span><span class=\"token constant\">STRING</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">description</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"핸드폰번호\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function\">fieldWithPath</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"userRole\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">attributes</span><span class=\"token punctuation\">(</span><span class=\"token function\">getEnumAttr</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Role</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">description</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"권한\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function\">fieldWithPath</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"locked\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">type</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">JsonFieldType</span><span class=\"token punctuation\">.</span><span class=\"token constant\">BOOLEAN</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">description</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"잠금여부\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function\">fieldWithPath</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"isDelete\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">type</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">JsonFieldType</span><span class=\"token punctuation\">.</span><span class=\"token constant\">BOOLEAN</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">description</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"삭제처리여부\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function\">fieldWithPath</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"createdDateTime\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">type</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">LocalDateTime</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">attributes</span><span class=\"token punctuation\">(</span><span class=\"token function\">getDateTimeFormat</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">description</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"생성일자\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function\">fieldWithPath</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"updatedDateTime\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">type</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">LocalDateTime</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">attributes</span><span class=\"token punctuation\">(</span><span class=\"token function\">getDateTimeFormat</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">description</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"수정일자\"</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span></code></pre></div>\n<p><img src=\"%7B%7Bsite.url%7D%7D/assets/images/jmb/restdocs/img11.png\" alt=\"img11\"></p>\n<h1 id=\"마무리\" style=\"position:relative;\">마무리<a href=\"#%EB%A7%88%EB%AC%B4%EB%A6%AC\" aria-label=\"마무리 permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h1>\n<p>팀 내부에서 API명세에 대한 정보를 노션을 공유하고 있습니다.</p>\n<p>이에 따라서 벡앤드 개발자는 개발 후 API문서를 따로 작성해야되며,</p>\n<p>개발도중 API명세가 바뀔 경우는 해당 문서를 다시 수정해야되는 번거로움이 있습니다.</p>\n<p>그래서 저는 이러한 불편함을 개선하고자 API문서를 자동화를 할 수 있는 라이브러리를 찾았고 처음에는 스웨거를 적용하게 되었습니다.</p>\n<p>스웨거는 간편하고 좋았으나 점점 소스코드에 절반 이상이 문서관련 어노테이션으로 잠식당했으며 코드 수정 시 해당 어노테이션을 수정해야된다는 점은\n기존과 큰 차이가 없어보였습니다.</p>\n<p>어노테이션을 yml파일로 추출하는 방법을 찾아보던 중 Rest Docs라는 라이브러리를 알게되었고</p>\n<p>테스트코드 기반의 Rest Docs는 위의 두 가지 문제를 해결해주었습니다.</p>\n<p>물론 Rest Docs의 단점에 거론된 적용이 번거롭다는 단점은 명확했습니다.</p>\n<ul>\n<li>build.gradle 설정도중 플러그인의 버전이 맞지않아 헤메고</li>\n<li>.adoc를 작성하는 방법을 찾아보고</li>\n<li>스니펫을 커스텀하면서 오류를 마주하고</li>\n</ul>\n<p>하지만 초기설정만 끝나면 그 이후에는 테스트코드작성과 .adoc에 스니펫을 추가하기만 하면 간단하게 문서가 작성되었기에 오히려 편하게 문서를\n작성할 수 있었으며</p>\n<p>따로 문서를 공유할 필요없이 초기에 해당 API가이드에 접근할 수 있는 링크만 건네고 명세가 갱신되었을 때는 갱신 여부와 갱신된 영역만을\n알려주면 되어 편하게 작업이 가능했습니다.</p>\n<p>아직은 작은 프로젝트에만 적용되어 사용 중이지만 이후에는 전반적인 프로젝트에 적용하여 사용할 예정입니다.</p>\n<blockquote>\n<p>참조:  <br/><a href=\"https://techblog.woowahan.com/2597/\" target=\"_blank\" rel=\"nofollow\">https://techblog.woowahan.com/2597/</a> <br/>\n<a href=\"https://johngrib.github.io/wiki/restdoc-item-generator/\" target=\"_blank\" rel=\"nofollow\">https://johngrib.github.io/wiki/restdoc-item-generator/</a> <br/>\n<a href=\"https://velog.io/@dae-hwa/Spring-REST-Docs-%EC%82%B4%ED%8E%B4%EB%B3%BC%EB%A7%8C%ED%95%9C-%EA%B8%B0%EB%8A%A5%EB%93%A4\" target=\"_blank\" rel=\"nofollow\">https://velog.io/@dae-hwa/Spring-REST-Docs-살펴볼만한-기능들</a> <br/>\n<a href=\"https://backtony.github.io/spring/2021-10-15-spring-test-3\" target=\"_blank\" rel=\"nofollow\">https://backtony.github.io/spring/2021-10-15-spring-test-3</a></p>\n</blockquote>","tableOfContents":"<ul>\n<li>\n<p><a href=\"#rest-docs%EB%9E%80\">Rest Docs란</a></p>\n</li>\n<li>\n<p><a href=\"#rest-docs-vs-%EC%8A%A4%EC%9B%A8%EA%B1%B0\">Rest Docs vs 스웨거</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%84%A4%EC%A0%95\">설정</a></p>\n<ul>\n<li><a href=\"#buildgradle\">build.gradle</a></li>\n<li><a href=\"#adoc-%EC%83%9D%EC%84%B1\">*.adoc 생성</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EB%B9%8C%EB%93%9C\">빌드</a></p>\n<ul>\n<li><a href=\"#%EB%B9%8C%EB%93%9C-%EC%8B%A4%ED%8C%A8-%EC%9B%90%EC%9D%B8%ED%99%95%EC%9D%B8\">빌드 실패 원인확인</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EB%AC%B8%EC%84%9C-%EC%A1%B0%ED%95%A9\">문서 조합</a></p>\n<ul>\n<li><a href=\"#%EC%9E%90%EB%8F%99%EC%A1%B0%ED%95%A9\">자동조합</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%8A%A4%EB%8B%88%ED%8E%AB-%EC%BB%A4%EC%8A%A4%ED%85%80\">스니펫 커스텀</a></p>\n<ul>\n<li><a href=\"#%ED%8C%8C%EC%9D%BC-%EC%BB%A4%EC%8A%A4%ED%85%80\">파일 커스텀</a></li>\n<li><a href=\"#%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%BB%A4%EC%8A%A4%ED%85%80\">데이터 커스텀</a></li>\n<li><a href=\"#%EC%98%88%EC%8B%9C\">예시</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%98%88%EC%8B%9C-%EB%B0%8F-%EA%B2%B0%EA%B3%BC\">예시 및 결과</a></p>\n</li>\n<li>\n<p><a href=\"#%EB%A7%88%EB%AC%B4%EB%A6%AC\">마무리</a></p>\n</li>\n</ul>","frontmatter":{"title":"Spring Rest Docs Docs","summary":"테스트코드 기반 API 문서 자동화 Rest Docs","date":"2022.08.01.","categories":["Spring","Test"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAADTUlEQVQozx2P2zfbBwCAf3/LztnO6bq1Dz1ns0ndh9Rc65KFXCQipAhyQe4UmbmclCalhuVUFIsjJMFGtEYRK2XEZe16erY97L/4dtqH7+V7+c4nHM4ZePWziVcLZo6CJo4X2zhbsnC+ZOEqYv/Am1Unr1ddvFmz8fZXB2/XbPyz6eLd+ntv42rVxUXUyWXUiRB/aiT+1MDBrIGX80b254z8EbJwtthBYtnKRcTGRdj2IbA7b2U31M9eZJiDFS/7YQ/7i72cLNu5XHVwHrEjHMwYiU02MjtYzW6ghehoPfszBk4XLZyGOkiErFyFLcQmWni5u8bVeZzEyQ6H8Rh72yvE92JsL3lIvL8K2xG2/XpeBAyEvbXMD6mIPKojHjByPNfG0ayZXX8rR7MGAv06Tk92ePFbmOjSE+Znxph8PMDm+iKHG1McB81cRh0IW1ONPPvxHuGHWpa9WsacEvw9MiY6q5jokuN31zDulGLTFXF18Tt//XnIs40QO1tRjg5i/PfvJbGFEeLTTSSWbAgrPi3hB2omO6UE+uSMdJTQ8F0aQzYFXpeSie/riE61020oZdY/zN/vzthYC7K3Feb52gzheR/PA1ZOgibOQhaEgLuKyIiG9UcaNh5rMSozqC76ihZFFiXpN8j64mPEouuoSkQ86DPR3ixHXSpisEPC+H0p0bE6zqMOEmEr8TkTwopXRWxcw8a4DldjOd+m3aKntQxFcQq5ydcQp9wkO/kGqbc+YbyvHp0kFY9Vxumynde/ODiNONh8YmK0swazthJhtNfEcJcNtaKZzG+kZCR9hs8pw9FQyN3cJDSKcuQVeYhufkTA04iuUkyOuIZmXTujP3TT365BUpBLaWkxNWoZQkeLEnt3kCb9IDUKLZlffspDexVjXXLkBUlICtMoy08nL+VzfhrUoSq/g1FvR63tQ1XnplZRjDg7GY3kNm5jPoJGUYhSWo/TbMZzX4+0OIuC29fwuZRMD9ahLkoiT3SdekkaOmkmboeeoN9DrVJHTlYumZlf01Cdg2dARa9bi5CTnkGjshxfv4WBzlaa1Xdo0pYhKxGhl6cy1K1FUZFNZX4y91Ql+AbsLEx76bG3oZLkYa/PQFOVg0xTRUHFXf4HxKxqL6EXfrIAAAAASUVORK5CYII="},"images":{"fallback":{"src":"/static/5fb235b812b70bffacbd78de994d9585/1115f/test.png","srcSet":"/static/5fb235b812b70bffacbd78de994d9585/ac032/test.png 118w,\n/static/5fb235b812b70bffacbd78de994d9585/17927/test.png 235w,\n/static/5fb235b812b70bffacbd78de994d9585/1115f/test.png 470w","sizes":"(min-width: 470px) 470px, 100vw"},"sources":[{"srcSet":"/static/5fb235b812b70bffacbd78de994d9585/f421b/test.webp 118w,\n/static/5fb235b812b70bffacbd78de994d9585/42a7d/test.webp 235w,\n/static/5fb235b812b70bffacbd78de994d9585/758aa/test.webp 470w","type":"image/webp","sizes":"(min-width: 470px) 470px, 100vw"}]},"width":470,"height":272}},"publicURL":"/static/5fb235b812b70bffacbd78de994d9585/test.png"}}}}]}},"pageContext":{"slug":"/RestDocs/"}},"staticQueryHashes":[]}